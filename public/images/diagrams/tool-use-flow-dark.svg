<svg viewBox="0 0 540 160" width="100%" height="auto" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Tool Use flow: LLM outputs tool call, app executes, result feeds back to LLM">
  <defs>
    <filter id="shadow" x="-4%" y="-4%" width="108%" height="112%">
      <feDropShadow dx="0" dy="2" stdDeviation="4" flood-color="#000000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="540" height="160" rx="14" fill="#1a1d23" stroke="#2d3139" stroke-width="1.5"/>

  <!-- LLM box -->
  <rect x="20" y="20" width="120" height="68" rx="10" fill="rgba(99,102,241,0.1)" stroke="#818cf8" stroke-width="1.8" filter="url(#shadow)"/>
  <text x="80" y="50" text-anchor="middle" font-family="ui-sans-serif,system-ui,sans-serif" font-size="15" font-weight="700" fill="#a5b4fc">LLM</text>
  <text x="80" y="68" text-anchor="middle" font-family="ui-sans-serif,system-ui,sans-serif" font-size="9.5" fill="#a5b4fc" opacity="0.8">Reasons &amp; decides</text>

  <!-- APP box -->
  <rect x="210" y="20" width="120" height="68" rx="10" fill="rgba(245,158,11,0.1)" stroke="#fbbf24" stroke-width="1.8" filter="url(#shadow)"/>
  <text x="270" y="50" text-anchor="middle" font-family="ui-sans-serif,system-ui,sans-serif" font-size="15" font-weight="700" fill="#fcd34d">APP</text>
  <text x="270" y="68" text-anchor="middle" font-family="ui-sans-serif,system-ui,sans-serif" font-size="9.5" fill="#fcd34d" opacity="0.8">Intercepts &amp; executes</text>

  <!-- TOOL box -->
  <rect x="400" y="20" width="120" height="68" rx="10" fill="rgba(16,185,129,0.1)" stroke="#34d399" stroke-width="1.8" filter="url(#shadow)"/>
  <text x="460" y="50" text-anchor="middle" font-family="ui-sans-serif,system-ui,sans-serif" font-size="15" font-weight="700" fill="#6ee7b7">TOOL</text>
  <text x="460" y="68" text-anchor="middle" font-family="ui-sans-serif,system-ui,sans-serif" font-size="9.5" fill="#6ee7b7" opacity="0.8">API / DB / Function</text>

  <!-- REQUEST: LLM → APP -->
  <path d="M140,42 L196,42" fill="none" stroke="#818cf8" stroke-width="2.5" stroke-linecap="round"/>
  <polygon points="206,42 194,36 194,48" fill="#818cf8"/>
  <text x="170" y="36" text-anchor="middle" font-family="ui-sans-serif,system-ui,sans-serif" font-size="8.5" font-weight="600" fill="#818cf8">tool_call</text>

  <!-- REQUEST: APP → TOOL -->
  <path d="M330,42 L386,42" fill="none" stroke="#fbbf24" stroke-width="2.5" stroke-linecap="round"/>
  <polygon points="396,42 384,36 384,48" fill="#fbbf24"/>
  <text x="360" y="36" text-anchor="middle" font-family="ui-sans-serif,system-ui,sans-serif" font-size="8.5" font-weight="600" fill="#fbbf24">request</text>

  <!-- RETURN: TOOL → APP -->
  <path d="M400,68 L344,68" fill="none" stroke="#34d399" stroke-width="2.5" stroke-linecap="round" stroke-dasharray="8 4"/>
  <polygon points="334,68 346,62 346,74" fill="#34d399"/>
  <text x="370" y="82" text-anchor="middle" font-family="ui-sans-serif,system-ui,sans-serif" font-size="8.5" font-weight="600" fill="#34d399">result</text>

  <!-- RETURN: APP → LLM -->
  <path d="M210,68 L154,68" fill="none" stroke="#a78bfa" stroke-width="2.5" stroke-linecap="round" stroke-dasharray="8 4"/>
  <polygon points="144,68 156,62 156,74" fill="#a78bfa"/>
  <text x="180" y="82" text-anchor="middle" font-family="ui-sans-serif,system-ui,sans-serif" font-size="8.5" font-weight="600" fill="#a78bfa">tool_result</text>

  <!-- Legend -->
  <line x1="130" y1="126" x2="168" y2="126" stroke="#818cf8" stroke-width="2.5" stroke-linecap="round"/>
  <polygon points="174,126 166,122 166,130" fill="#818cf8"/>
  <text x="186" y="130" font-family="ui-sans-serif,system-ui,sans-serif" font-size="9" fill="#94a3b8">Request flow</text>

  <line x1="306" y1="126" x2="344" y2="126" stroke="#34d399" stroke-width="2.5" stroke-linecap="round" stroke-dasharray="8 4"/>
  <polygon points="350,126 342,122 342,130" fill="#34d399"/>
  <text x="362" y="130" font-family="ui-sans-serif,system-ui,sans-serif" font-size="9" fill="#94a3b8">Return flow</text>
</svg>
